<?
$main_menu = array(
array(
	"title" => "Главная",
	"url" => "oit.r29.ru_20200526",
	"items" => array(
		array(
			"title" => "Антикоррупционная деятельность",
			"url" => "anticorrupt",
			"items" => array(
			),
		),
		array(
			"title" => "Статьи",
			"url" => "articles",
			"items" => array(
			),
		),
		array(
			"title" => "Контакты",
			"url" => "contact-us",
			"items" => array(
			),
		),
		array(
			"title" => "Дистанционное обучение",
			"url" => "distance_education",
			"items" => array(
			),
		),
		array(
			"title" => "Обратная связь",
			"url" => "feedback",
			"items" => array(
			),
		),
		array(
			"title" => "Финансово-хозяйственная деятельность",
			"url" => "FHD",
			"items" => array(
			),
		),
		array(
			"title" => "Ссылки",
			"url" => "links",
			"items" => array(
			),
		),
		array(
			"title" => "Новости и события",
			"url" => "news-events",
			"items" => array(
				array(
					"title" => "Мы в прессе",
					"url" => "my-v-presse",
					"items" => array(
					),
				),
			),
		),
		array(
			"title" => "Нормативные документы",
			"url" => "normativnye-dokumenty",
			"items" => array(
			),
		),
		array(
			"title" => "О техникуме",
			"url" => "o-tehnikume",
			"items" => array(
				array(
					"title" => "Фотогалереи",
					"url" => "fotogalerei",
					"items" => array(
						array(
							"title" => "Концерт к 70-летию Великой Победы",
							"url" => "april_29_2015",
							"items" => array(
							),
						),
						array(
							"title" => "&quot;День призывника&quot; 2 апреля 2016 года",
							"url" => "apr_2_2016",
							"items" => array(
							),
						),
						array(
							"title" => "Автопарк",
							"url" => "avtopark",
							"items" => array(
							),
						),
						array(
							"title" => "Мероприятия в преддверии 70-летия Великой Победы",
							"url" => "may_12_2015",
							"items" => array(
							),
						),
						array(
							"title" => "Митинг, посвященный Дню Победы",
							"url" => "may_6_2016",
							"items" => array(
							),
						),
						array(
							"title" => "Мероприятия в преддверии 70-летия Великой Победы",
							"url" => "may_7_2015",
							"items" => array(
							),
						),
						array(
							"title" => "Майская эстафета, посвященная 70-летию Великой Победы",
							"url" => "may_8_2015",
							"items" => array(
							),
						),
						array(
							"title" => "Мероприятия в преддверии 70-летия Великой Победы",
							"url" => "may_9_2015",
							"items" => array(
							),
						),
						array(
							"title" => "Колонна Онежского индустриального техникума на параде 9 мая 2015 года",
							"url" => "may_9_2015_1",
							"items" => array(
							),
						),
						array(
							"title" => "Акция «Обменяй сигаретку на конфетку»",
							"url" => "november_24_2016",
							"items" => array(
							),
						),
						array(
							"title" => "Конкурс чтецов «Главное слово в любом языке», посвященный Дню матери",
							"url" => "november_28_2016",
							"items" => array(
							),
						),
						array(
							"title" => "Игра «Эрудит»",
							"url" => "november_30_2016",
							"items" => array(
							),
						),
						array(
							"title" => "Колонна Онежского индустриального техникума на параде 9 мая 2015 года",
							"url" => "october_2_2015",
							"items" => array(
							),
						),
						array(
							"title" => "Колонна Онежского индустриального техникума на параде 9 мая 2015 года",
							"url" => "october_2_2015_1",
							"items" => array(
							),
						),
						array(
							"title" => "Урок – игра в целях не допущения чрезвычайных ситуации, профилактики основ безопасности жизнедеятельности и организации мероприятий по гражданской обороне",
							"url" => "october_5_2017",
							"items" => array(
							),
						),
						array(
							"title" => "Салют 2014",
							"url" => "salut2014",
							"items" => array(
							),
						),
						array(
							"title" => "День знаний 4 сентрября 2017 г.",
							"url" => "september_04_2017",
							"items" => array(
							),
						),
						array(
							"title" => "Правовая беседа",
							"url" => "september_08_2017",
							"items" => array(
							),
						),
						array(
							"title" => "Турслет 2017",
							"url" => "september_20_2017",
							"items" => array(
							),
						),
						array(
							"title" => "Областной кросс",
							"url" => "september_29_2017",
							"items" => array(
							),
						),
						array(
							"title" => "Учебные корпуса и помещения",
							"url" => "uchebnye-korpusa-i-pomeshcheniya",
							"items" => array(
							),
						),
						array(
							"title" => "Внеурочная деятельность",
							"url" => "vneurochnaya-deyatelnost",
							"items" => array(
							),
						),
						array(
							"title" => "Встреча с ветераном ВОВ",
							"url" => "vstrecha-s-veteranom-vov",
							"items" => array(
							),
						),
						array(
							"title" => "Фотовыставка «Студенческая жизнь»",
							"url" => "yanuary_22_2018",
							"items" => array(
							),
						),
					),
				),
				array(
					"title" => "История техникума",
					"url" => "istoriya-tehnikuma",
					"items" => array(
					),
				),
				array(
					"title" => "Сведения о кадрах",
					"url" => "kadri",
					"items" => array(
					),
				),
				array(
					"title" => "Материально-техническое обеспечение и оснащенность образовательного процесса",
					"url" => "mto-oop",
					"items" => array(
					),
				),
				array(
					"title" => "Наши достижения",
					"url" => "nashi-dostizheniya",
					"items" => array(
					),
				),
				array(
					"title" => "Образование",
					"url" => "obrazovanie",
					"items" => array(
					),
				),
				array(
					"title" => "Образовательные стандарты",
					"url" => "obrazovatelnye-standarty",
					"items" => array(
					),
				),
				array(
					"title" => "Платные образовательные услуги",
					"url" => "platnye-uslugi",
					"items" => array(
					),
				),
				array(
					"title" => "Руководство. Педагогический состав",
					"url" => "rukovodstvo-pedsostav",
					"items" => array(
					),
				),
				array(
					"title" => "Социально-педагогическая деятельность",
					"url" => "socialno-pedagogicheskaya-deyatelnost",
					"items" => array(
					),
				),
				array(
					"title" => "Стипендии и иные виды материальной поддержки",
					"url" => "stipendii",
					"items" => array(
					),
				),
				array(
					"title" => "Структура и органы управления образовательной организацией",
					"url" => "struct-i-organy-oo",
					"items" => array(
					),
				),
				array(
					"title" => "Вакантные места для приема (перевода)",
					"url" => "vakansii",
					"items" => array(
					),
				),
				array(
					"title" => "Внеучебная деятельность",
					"url" => "vneuchebnaya-deyatelnost",
					"items" => array(
					),
				),
			),
		),
		array(
			"title" => "Профилактическая работа",
			"url" => "preventive_work",
			"items" => array(
			),
		),
		array(
			"title" => "Новости и события",
			"url" => "timetable",
			"items" => array(
			),
		),
		array(
			"title" => "Приемная комиссия",
			"url" => "usloviya-postupleniya",
			"items" => array(
			),
		),
	),
),
);

function echo_item_begin($arg_class, $url, $title) {
    echo('<li class="'.$arg_class.'">');
    echo('<a href="'.$url.'">');
    echo('<span class="navigation-item-bullet">></span>');
    echo('<span class="navigation-item-text">'.$title.'</span>');
    echo('</a>');
}

function echo_item_end() {
    echo('</li>');
}

function cmp_menu_items($a, $b) {
    if ($a['title'] == $b['title']) return 0;
    if ($a['title'] < $b['title']) return -1;
    if ($a['title'] > $b['title']) return 1;
}

function build_menu($parent_url, $menu_item) {
    $title = $menu_item['title'];
    $items = $menu_item['items'];
    $url = $menu_item['url'];
    $arg_class = 'normal';
    if (count($items) > 0) {
        $arg_class .= ' navigation-item-expand';
    }

    echo_item_begin($arg_class, $parent_url.'/'.$url.'/', $title);

    if (count($items) > 0) {
        echo('<ul>');
        usort($items, 'cmp_menu_items');
        foreach ($items as $i) {
            build_menu($parent_url.'/'.$url, $i);
        }
        echo('</ul>');
    }

    echo_item_end();
}

$root = array_shift($main_menu);
echo_item_begin('normal', '', $root['title']);
echo_item_end();

usort($root['items'], 'cmp_menu_items');
foreach ($root['items'] as $menu_item) {
    build_menu('', $menu_item);
}

?>